# 📌 4주차 중점 학습 내용

* 1. 클래스(객체)를 분리하는 연습

* 2. 리팩터링

# 👉🏻 게임 순서

### 1. 다리의 길이를 입력받는다. (readBridgeSize - InputView.js) ✔
  
> **예외 처리** (Validation.js)
    
  * 다리의 길이가 숫자여야 한다. ✅

  * 다리의 길이가 3이상 20이하여야 한다. ✅

**⬇ (InputHandling.js)**

  - [x] 잘못된 값을 입력하면 에러를 발생시키고 다시 다리의 길이를 입력받는다.

### 2. 다리의 길이가 유효하면 다리를 만든다. (makeBridge - BridgeMaker.js)

  - [x] 다리의 길이만큼 다리 랜덤 생성기에서 0 또는 1 값을 저장

  - [x] 다리의 길이가 1이면 "U"로 0이면 "D"로 변경하여 문자열로 이루어진 배열을 반환

### 3. 이동할 칸을 입력받는다. (readMoving - InputView.js) ✔

  > **예외 처리** (Validation.js)

  * 이동할 칸은 문자열 U와 D만 들어올 수 있다.(정규표현식 사용) ✅

  * 이동할 칸은 하나의 문자만 입력할 수 있다.(UD가 들어오는 상황을 방지하기 위해 추가) ✅

  * 소문자 u와 d를 입력한 경우 대문자로 입력하라는 에러를 발생시킨다. ✅

**⬇ (InputHandling.js)**

  - [x] 잘못된 값을 입력하면 에러를 발생시키고 다시 이동할 칸을 입력받는다. 

  - [x] 정답을 맞추면 다시 이동할 칸을 입력받는다.

  - [x] 틀리면 게임 재시작 여부를 묻는다.

  - [x] 다리 길이 끝까지 정답을 맞추면 콘솔을 닫는다.

### 4. 게임 진행 (BridgeGame.js) 

  - [x] 다리 배열과 사용자 입력 방향을 비교하고 움직일지 멈출지 결정한다.

  - [x] 사용자 입력과 다리 배열의 값이 일치하면 앞으로 이동 ✔ (move 메서드)

  - [x] 맞출때마다 다리 배열 인덱스 값을 증가시킨다.

  - [x] 사용자 입력과 다리 배열의 값이 틀리면 멈춤 (stop 메서드)
  
  - [x] 다리 배열의 인덱스와 다리 배열의 길이가 일치하면 끝까지 맞추었다고 판단한다.

  - [x] 게임 재시작 메서드를 호출하면 게임을 초기화시키고 재시작 횟수를 증가시킨다.

### 5. 출력될 다리 만들기 (MapMaker.js)

  - [x] 맞았을 때 U가 입력이면 윗칸에 O표시를 하고 D가 입력이면 아랫칸에 O표시를 한다.

  - [x] 틀렸을 때 U가 입력이면 윗칸에 X표시를 하고 D가 입력이면 아랫칸에 X표시를 한다.

  - [x] 정답을 끝까지 맞추면 최종 게임 결과를 출력하는 함수를 호출한다.

### 6. 게임 결과 출력 (OutputView.js)

  - [x] 위쪽 다리와 아래쪽 다리 배열을 ' | '로 묶어 출력한다.

  - [x] 최종 결과가 성공인지 실패인지 여부를 판단하고 최종 게임 결과 메시지를 출력한다.

### 7. 게임 재시작 여부를 입력받는다. (readGameCommand - InputView.js) ✔

**⬇ (InputHandling.js)**

  > **예외 처리** (Validation.js)

  * 입력이 R과 Q만 들어올 수 있다.(정규표현식 사용) ✅

  * 이동할 칸은 하나의 문자만 입력할 수 있다.(RQ가 들어오는 상황을 방지하기 위해 추가) ✅

  * 소문자 r와 q를 입력한 경우 대문자로 입력하라는 에러를 발생시킨다. ✅

  - [x] 잘못된 값을 입력하면 에러를 발생시키고 다시 재시작 여부를 입력받는다.

  - [x] 재시도 R을 입력하면 게임을 초기화하고 이동할 칸을 입력받는 순서로 돌아간다.

  - [ ] 종료 Q를 입력하면 게임 결과를 출력하고 게임을 종료한다. 

# 💻 프로그래밍 요구사항 

- [ ] indent(인덴트, 들여쓰기) depth를 3이 넘지 않도록 구현한다. 2까지만 허용한다.

- [ ] 함수(또는 메서드)가 한 가지 일만 하도록 최대한 작게 만들어라.

- [ ] Jest를 이용하여 본인이 정리한 기능 목록이 정상 동작함을 테스트 코드로 확인한다.

- [ ] else를 지양한다.
  
- [ ] 도메인 로직에 단위 테스트를 구현해야 한다. 단, UI(Console.readLine, Console.print) 로직에 대한 단위 테스트는 제외한다.
  
- [ ] 핵심 로직을 구현하는 코드와 UI를 담당하는 로직을 구분한다.

# ➕ 추가된 요구 사항

- [ ] 함수(또는 메서드)의 길이가 10라인을 넘어가지 않도록 구현한다. 함수(또는 메서드)가 한 가지 일만 잘하도록 구현한다.

- [ ] 메서드의 파라미터 개수는 최대 3개까지만 허용한다.

- [ ] `InputView` 에서만 `MissionUtils`의 `Console.readLine()` 을 이용해 사용자의 입력을 받을 수 있다.

- [ ] `BridgeGame` 클래스에서 `InputView`, `OutputView` 를 사용하지 않는다.